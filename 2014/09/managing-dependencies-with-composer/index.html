<!DOCTYPE html>
<html lang="en">
<head>
    <title>
                                    Managing Dependencies with Composer | The Dev Files
                        </title>
    <meta charset="utf-8">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                            <meta name="description" content="Using composer to manage dependencies.">
                            <meta name="author" content="Jonathan Bernardi">
            
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.thedevfiles.com/2014/09/managing-dependencies-with-composer/">
                    <link rel="author" href="/contact/">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    <link href="/assets/css/style.css" rel="stylesheet" type="text/css"/>

    <link rel="apple-touch-startup-image" href="/assets/images/favicon/2048x2048.png">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="shortcut icon" sizes="76x76" href="/assets/images/favicon/76x76.png">
<link rel="shortcut icon" sizes="120x120" href="/assets/images/favicon/120x120.png">
<link rel="shortcut icon" sizes="128x128" href="/assets/images/favicon/128x128.png">
<link rel="shortcut icon" sizes="152x152" href="/assets/images/favicon/152x152.png">
<link rel="shortcut icon" sizes="196x196" href="/assets/images/favicon/196x196.png">
<link rel="shortcut icon" sizes="512x512" href="/assets/images/favicon/512x512.png">
<link rel="shortcut icon" sizes="1024x1024" href="/assets/images/favicon/1024x1024.png">
<link rel="shortcut icon" sizes="2048x2048" href="/assets/images/favicon/2048x2048.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicon/76x76.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicon/120x120.png">
<link rel="apple-touch-icon" sizes="128x128" href="/assets/images/favicon/128x128.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicon/152x152.png">
<link rel="apple-touch-icon" sizes="196x196" href="/assets/images/favicon/196x196.png">
<link rel="apple-touch-icon" sizes="512x512" href="/assets/images/favicon/512x512.png">
<link rel="apple-touch-icon" sizes="1024x1024" href="/assets/images/favicon/1024x1024.png">
<link rel="apple-touch-icon" sizes="2048x2048" href="/assets/images/favicon/2048x2048.png">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/solarized_dark.min.css">
    <link rel="alternate" type="application/atom+xml" href="/atom.xml"
          title="The Dev Files activity feed"/>
                </head>
<body itemscope="http://schema.org/Blog">
<header class="siteheader">
    <div class="content-wrapper">
        <h2 class="siteheader__title"><a href="/">The Dev Files</a></h2>
        <small class="siteheader__subtitle">Development Blog of Jonathan Bernardi</small>
    </div>
</header>
<div class="menu menu--main">
    <div class="content-wrapper">
        <nav class="menu__nav" role="navigation">
    <ul class="menu__links">
        <li class="menu__item">
            <a class="menu__link" href="/">Blog</a>
        </li>
        <li class="menu__item">
            <a class="menu__link" href="/archive/">Archive</a>
        </li>
        <li class="menu__item">
            <a class="menu__link" href="/contact/">Contact</a>
        </li>
        <li class="menu__item menu__item--rss">
            <a class="menu__link" href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">
                <i class="fa fa-rss"></i>
                <span class="sr-only">RSS</span>
            </a>
        </li>
    </ul>
</nav>
        <div class="menu__right">
            <form class="search" action="https://www.google.com/search" method="get" role="search">
    <input type="hidden" name="q" value="site:www.thedevfiles.com">
    <input class="search__input" type="search" name="q" results="0" placeholder="Search">
</form>
        </div>
    </div>
</div>

<div class="middle-section">
    <div class="content-wrapper">
        <section class="main">

                <article class="post h-entry" itemid="https://www.thedevfiles.com/2014/09/managing-dependencies-with-composer/" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">

        <header class="post__header">
            <h1 class="post__title p-name" itemprop="headline">Managing Dependencies with Composer</h1>

            <h2 class="post__date">Sep 8th, 2014</h2>
                            <img class="u-photo hidden" itemprop="image" src="https://www.thedevfiles.com/assets/images/featured/logo-composer-transparent5.png" alt="Managing Dependencies with Composer">
                    </header>
        <div class="post__body e-content" itemprop="articleBody">
            <p><a href="http://getcomposer.org">Composer</a> is a package manager for PHP much like <a href="https://rubygems.org/">gem</a> is for ruby or <a href="https://www.npmjs.org/">npm</a> is for node.</p>

<p>It allows you to define libraries that your application depends on and will install them for you as well a their own dependencies.</p>

<p>It also includes an autoloader to load classes in both the installed packages as well as your own classes.</p>

<!--more-->

<h2 id="installation">Installation</h2>

<p>The easiest way to install composer on a Mac or Linux based OS is to run one of the following commands from a terminal.</p>

<pre><code class="bash">curl -sS https://getcomposer.org/installer | php
</code></pre>

<pre><code class="bash">php -r "readfile('https://getcomposer.org/installer');" | php
</code></pre>

<p>This will download a <code>composer.phar</code> file into the current directory.</p>

<p>If you want to be able to run composer from any directory you need to move the <code>composer.phar</code> file into a directory on your path.</p>

<pre><code class="bash">sudo mv composer.phar /usr/bin/composer
</code></pre>

<p>To install on windows just download the <a href="https://getcomposer.org/Composer-Setup.exe">Composer-Setup.exe</a> installer.
This will install composer as well as add it to your path and optionally add a shell extension that will let you run composer commands from Windows Explorer.</p>

<p>You can find further options for downloading and installing on <a href="https://getcomposer.org/download/">the official download page</a>.</p>

<p>For the rest of this article I will assume composer is installed in the local directory as <code>composer.phar</code>.</p>

<h2 id="adding-packages">Adding packages</h2>

<p>Now that we have a package manager we need to install some packages.</p>

<p>Composer can install packages from any git, mercurial, or subversion repository as well as <a href="http://pear.php.net/">PEAR</a> packages but the main source for composer packages is <a href="https://packagist.org/">Packagist</a>.</p>

<p>To install a package we need to start by creating a <code>composer.json</code> file at the root of our project.</p>

<p>To have composer create this file for you run the following command.</p>

<pre><code class="bash">php composer.phar init
</code></pre>

<p>You will be asked questions about your application such as the package name, description, and authors.</p>

<p>You will then be asked if you would like to define dependencies.
You can then add dependencies and their versions.
Composer will then create a <code>composer.json</code> file with the dependencies you defined.</p>

<p>To then install the added packages run the following command.</p>

<pre><code class="bash">php composer.phar install
</code></pre>

<p>This will download all of your requested packages and their dependencies and add then to the autoloader.</p>

<p>To add more packages to your application open the <code>composer.json</code> file.
There should be a <code>require</code> property with a list of your current packages.</p>

<p>You can add any new packages by adding them to this list.</p>

<pre><code class="json">{
    "require": {
        "monolog/monolog": "~1.10.0",
        "swiftmailer/swiftmailer": "~5.2.1"
    }
}
</code></pre>

<p>To install the newly added packages or remove the deleted ones run the following command.</p>

<pre><code class="bash">php composer.phar update
</code></pre>

<p>To add and install a new package in one step you can use the <code>require</code> command passing the name of the package and the version separated by a colon.</p>

<pre><code class="bash">php composer.phar require symfony/filesystem:2.5.3
</code></pre>

<p>This will add the package to the <code>composer.json</code> file and install the package.</p>

<h2 id="updating-packages">Updating packages</h2>

<p>To update packages just change the version numbers and run the update command again.</p>

<pre><code class="bash">php composer.phar update
</code></pre>

<h2 id="the-autoloader">The Autoloader</h2>

<p>The autoloader included in composer is very flexible and can be used to load most anything.</p>

<p>To include the autoloader in your project require the <code>autoload.php</code> file located in the vendor directory.</p>

<pre><code class="php">require('path/to/vendor/autoload.php');
</code></pre>

<h3 id="adding-your-own-classes-to-the-autoloader.">Adding your own classes to the autoloader.</h3>

<p>Composer includes install packages in the autoloader automatically but you can add your own classes to the autoloader as well.</p>

<p>The autoloader can be configured using the <code>autoload</code> property in the <code>composer.json</code> file.</p>

<p>The autoloader supports 4 different methods for autoloading classes, psr-0, psr-4, classmap, and files.</p>

<h4 id="psr-0-%2F-psr-4">PSR-0 / PSR-4</h4>

<p>Composer can autoload any classes following either the <a href="http://www.php-fig.org/psr/psr-0/">PSR-0</a> or the <a href="http://www.php-fig.org/psr/psr-4/">PSR-4</a> naming standards.</p>

<p>The main differences between the two is that PSR-4 can define a namespace to start at any given directory without including all namespaces in the directory tree but PSR-4 can only load classes that are namespaced.</p>

<p>PSR-0 can load classes in the root namespace and can load classes using the PEAR style underscore separated classes such as the class <code>Net_URL_Mapper</code> would be located in the file <code>Net/URL/Mapper.php</code>.</p>

<pre><code class="json">{
    "autoload": {
        "psr-0": {
            "Zend_": "zendframework/library/"
        },
        "psr-4": {
            "Bob\\Model": "app/models/"
        }
    }
}
</code></pre>

<h4 id="classmap-and-files">Classmap and Files</h4>

<p>By adding a directory to a <code>classmap</code> array composer will scan the directory and create a classmap for all classes in the directory.</p>

<p>You can also add a file directly and all classes in that file will be added to the classmap.</p>

<p>This can be used to load classes that do not follow the PSR-0 or PSR-4 naming standard.</p>

<pre><code class="json">{
    "autoload": {
        "classmap": [
            "src/library/",
            "src/app/models/",
            "classes/MyClass.php"
        ]
    }
}
</code></pre>

<p>Files added to the <code>files</code> array will be loaded on every request.</p>

<p>This can be helpful for things like functions that cannot be autoloaded.</p>

<pre><code class="json">{
    "autoload": {
        "files": [
            "src/library/functions.php"
        ]
    }
}
</code></pre>

        </div>
        <footer class="post__footer">
            <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="The Dev Files">
            </div>
            <meta itemprop="dateModified" content="2014-09-08T00:00:00-07:00">
            <meta itemprop="mainEntityOfPage" content="https://www.thedevfiles.com/2014/09/managing-dependencies-with-composer/">
            <meta class="u-url" itemprop="url" content="https://www.thedevfiles.com/2014/09/managing-dependencies-with-composer/">


            <ul class="past__meta">
                <li class="post__byline">Posted by <span class="post__author p-author h-card" itemprop="author">Jonathan Bernardi</span></li>
                <li>
                    <time class="post__date--footer dt-published" itemprop="datePublished" content="2014-09-08T00:00:00-07:00"
                          datetime="2014-09-08T00:00:00-07:00">Sep 8th, 2014</time>
                </li>
                                    <li>
                        <span class="post__tags p-category">
                                                    <a class="post__tag"
                               href="/tag/php/">php</a>                                                </span>
                    </li>
                            </ul>

                            <meta itemprop="keywords" content="php">
                                        <meta class="p-summary" itemprop="description" content="Using composer to manage dependencies.">
                    </footer>

                    <div class="sharing">
            <a href="//twitter.com/share" class="twitter-share-button" data-url="https://www.thedevfiles.com/2014/09/managing-dependencies-with-composer/" data-via="thejonbernardi" data-counturl="https://www.thedevfiles.com/2014/09/managing-dependencies-with-composer/" >Tweet</a>
                <div class="g-plusone" data-size="medium"></div>
        </div>
        
                    <nav class="pagination pagination--simple">
                <ul>
                                            <li class="pagination--simple__previous">
                            <a href="/2014/09/building-a-simple-contact-form-in-php-part-5/">&laquo; Building a simple contact form in PHP - Part 5</a>
                        </li>
                                                        </ul>
            </nav>
        
                    <section class="post__comments">
    <h2>Comments</h2>
    <div id="disqus_thread" aria-live="polite">
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>
        
    </article>



        </section>
        <section class="sidebar">
    <aside class="widget widget--about h-card">
    <h4 class="widget__title p-name">Jonathan Bernardi</h4>

    <div class="widget__body">
        <div class="widget--about__gravatar">
            <img class="u-photo" src="//www.gravatar.com/avatar/7a5252ed2b4a12954535820e06fd0faa" alt="Jonathan Bernardi">
        </div>
        <div class="widget--about__social">
                            <a target="_blank" href="https://twitter.com/thejonbernardi" title="Twitter"><i class="fa fa-twitter"></i></a>
                                                    <a target="_blank" href="https://plus.google.com/116642652326925126482" title="Google+"><i class="fa fa-google-plus"></i></a>
                                                    <a target="_blank" href="http://www.linkedin.com/pub/jonathan-bernardi/57/318/99a" title="LinkedIn"><i class="fa fa-linkedin"></i></a>
                                        <a target="_blank" href="https://github.com/spekkionu" title="Github"><i class="fa fa-github"></i></a>
                                </div>
    </div>
</aside>
    <aside class="widget widget--monthly">
    <h4 class="widget__title">Monthly Arhives</h4>

    <div class="widget__body">
        <ul class="widget--monthly__list">
                        <li>
                <a class="widget--monthly__year " href="/2014/">2014 (9)</a>

                                    <ul class="widget--monthly__months">
                                            <li>
                            <a class="widget--monthly__month " href="/2014/09/">
                                Sep
                                (6)
                            </a>
                        </li>
                                            <li>
                            <a class="widget--monthly__month " href="/2014/08/">
                                Aug
                                (3)
                            </a>
                        </li>
                                        </ul>
                            </li>
                    </ul>
    </div>
</aside>



    <aside class="widget widget--tags">
    <h4 class="widget__title">Tags</h4>

    <div class="widget__body">
                    <span class="tag size2"><a href="/tag/doctrine/">doctrine</a></span>
            &nbsp;
                    <span class="tag size9"><a href="/tag/php/">php</a></span>
            &nbsp;
                    <span class="tag size6"><a href="/tag/mail/">mail</a></span>
            &nbsp;
                    <span class="tag size2"><a href="/tag/mysql/">mysql</a></span>
            &nbsp;
                    <span class="tag size2"><a href="/tag/security/">security</a></span>
            &nbsp;
                    <span class="tag size2"><a href="/tag/pdo/">pdo</a></span>
            &nbsp;
                    <span class="tag size3"><a href="/tag/database/">database</a></span>
            &nbsp;
            </div>
</aside>



</section>
    </div>
</div>
<footer class="sitefooter">
    <div class="content-wrapper">
        Copyright &copy; 2016 - Jonathan Bernardi
    </div>
</footer>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


            <script type="text/javascript">
    var disqus_shortname = 'thedevfiles';
    var disqus_developer = 1;
    var disqus_identifier = 'https://www.thedevfiles.com/2014/09/managing-dependencies-with-composer/';
    var disqus_title = 'Managing Dependencies with Composer';
    var disqus_url = 'https://www.thedevfiles.com/2014/09/managing-dependencies-with-composer/';
    var disqus_script = 'embed.js';
    function disqus_config() {
        this.callbacks.onNewComment = [function (comment) {
            ga('send', 'event', 'comment', 'post', 'Post a Comment');
        }];
    }
    (function () {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>
    
                        <script type="text/javascript">
        (function() {
            var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
            script.src = 'https://apis.google.com/js/plusone.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
        })();
    </script>
            <script type="text/javascript">
        (function(){
            var twitterWidgets = document.createElement('script');
            twitterWidgets.type = 'text/javascript';
            twitterWidgets.async = true;
            twitterWidgets.src = '//platform.twitter.com/widgets.js';
            document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
        })();
    </script>
    <!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-KBZCND"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KBZCND');</script>
<!-- End Google Tag Manager -->
</body>
</html>
